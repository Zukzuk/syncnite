import { CSSProperties, memo } from "react";
import { CustomIconType } from "../types/app";

const SteampoweredPath = '<path xmlns="http://www.w3.org/2000/svg" d="M18.102 12.129c0-0 0-0 0-0.001 0-1.564 1.268-2.831 2.831-2.831s2.831 1.268 2.831 2.831c0 1.564-1.267 2.831-2.831 2.831-0 0-0 0-0.001 0h0c-0 0-0 0-0.001 0-1.563 0-2.83-1.267-2.83-2.83 0-0 0-0 0-0.001v0zM24.691 12.135c0-2.081-1.687-3.768-3.768-3.768s-3.768 1.687-3.768 3.768c0 2.081 1.687 3.768 3.768 3.768v0c2.080-0.003 3.765-1.688 3.768-3.767v-0zM10.427 23.76l-1.841-0.762c0.524 1.078 1.611 1.808 2.868 1.808 1.317 0 2.448-0.801 2.93-1.943l0.008-0.021c0.155-0.362 0.246-0.784 0.246-1.226 0-1.757-1.424-3.181-3.181-3.181-0.405 0-0.792 0.076-1.148 0.213l0.022-0.007 1.903 0.787c0.852 0.364 1.439 1.196 1.439 2.164 0 1.296-1.051 2.347-2.347 2.347-0.324 0-0.632-0.066-0.913-0.184l0.015 0.006zM15.974 1.004c-7.857 0.001-14.301 6.046-14.938 13.738l-0.004 0.054 8.038 3.322c0.668-0.462 1.495-0.737 2.387-0.737 0.001 0 0.002 0 0.002 0h-0c0.079 0 0.156 0.005 0.235 0.008l3.575-5.176v-0.074c0.003-3.12 2.533-5.648 5.653-5.648 3.122 0 5.653 2.531 5.653 5.653s-2.531 5.653-5.653 5.653h-0.131l-5.094 3.638c0 0.065 0.005 0.131 0.005 0.199 0 0.001 0 0.002 0 0.003 0 2.342-1.899 4.241-4.241 4.241-2.047 0-3.756-1.451-4.153-3.38l-0.005-0.027-5.755-2.383c1.841 6.345 7.601 10.905 14.425 10.905 8.281 0 14.994-6.713 14.994-14.994s-6.713-14.994-14.994-14.994c-0 0-0.001 0-0.001 0h0z"/>';
const GoGGalaxyPath = '<path xmlns="http://www.w3.org/2000/svg" d="M 25 2 C 12.317 2 2 12.318 2 25 C 2 37.682 12.317 48 25 48 C 37.683 48 48 37.682 48 25 C 48 12.318 37.683 2 25 2 z M 11.599609 13 L 17.400391 13 C 18.283391 13 19 13.715609 19 14.599609 L 19 24.400391 C 19 25.284391 18.284391 26 17.400391 26 L 10 26 L 10 24 L 16.400391 24 C 16.731391 24 17 23.731391 17 23.400391 L 17 15.599609 C 17 15.268609 16.731391 15 16.400391 15 L 12.599609 15 C 12.268609 15 12 15.268609 12 15.599609 L 12 19.400391 C 12 19.731391 12.268609 20 12.599609 20 L 15.5 20 L 15.5 22 L 11.599609 22 C 10.716609 22 10 21.284391 10 20.400391 L 10 14.599609 C 10 13.715609 10.715609 13 11.599609 13 z M 22.099609 13 L 27.900391 13 C 28.782391 13 29.5 13.717609 29.5 14.599609 L 29.5 20.400391 C 29.5 21.282391 28.782391 22 27.900391 22 L 22.099609 22 C 21.217609 22 20.5 21.282391 20.5 20.400391 L 20.5 14.599609 C 20.5 13.717609 21.217609 13 22.099609 13 z M 32.599609 13 L 38.400391 13 C 39.283391 13 40 13.715609 40 14.599609 L 40 24.400391 C 40 25.284391 39.284391 26 38.400391 26 L 31 26 L 31 24 L 37.400391 24 C 37.731391 24 38 23.731391 38 23.400391 L 38 15.599609 C 38 15.268609 37.731391 15 37.400391 15 L 33.599609 15 C 33.268609 15 33 15.268609 33 15.599609 L 33 19.400391 C 33 19.731391 33.268609 20 33.599609 20 L 36.5 20 L 36.5 22 L 32.599609 22 C 31.716609 22 31 21.284391 31 20.400391 L 31 14.599609 C 31 13.715609 31.715609 13 32.599609 13 z M 23.099609 15 C 22.768609 15 22.5 15.268609 22.5 15.599609 L 22.5 19.400391 C 22.5 19.731391 22.768609 20 23.099609 20 L 26.900391 20 C 27.231391 20 27.5 19.731391 27.5 19.400391 L 27.5 15.599609 C 27.5 15.268609 27.231391 15 26.900391 15 L 23.099609 15 z M 11.599609 28 L 17.5 28 L 17.5 30 L 12.599609 30 C 12.268609 30 12 30.268609 12 30.599609 L 12 34.400391 C 12 34.731391 12.268609 35 12.599609 35 L 17.5 35 L 17.5 37 L 11.599609 37 C 10.716609 37 10 36.284391 10 35.400391 L 10 29.599609 C 10 28.716609 10.715609 28 11.599609 28 z M 20.599609 28 L 26.400391 28 C 27.282391 28 28 28.717609 28 29.599609 L 28 35.400391 C 28 36.282391 27.282391 37 26.400391 37 L 20.599609 37 C 19.717609 37 19 36.282391 19 35.400391 L 19 29.599609 C 19 28.717609 19.717609 28 20.599609 28 z M 31.099609 28 L 40 28 L 40 37 L 38 37 L 38 30 L 36.349609 30 C 36.018609 30 35.75 30.268609 35.75 30.599609 L 35.75 37 L 33.75 37 L 33.75 30 L 32.099609 30 C 31.768609 30 31.5 30.268609 31.5 30.599609 L 31.5 37 L 29.5 37 L 29.5 29.599609 C 29.5 28.716609 30.215609 28 31.099609 28 z M 21.599609 30 C 21.268609 30 21 30.268609 21 30.599609 L 21 34.400391 C 21 34.731391 21.268609 35 21.599609 35 L 25.400391 35 C 25.731391 35 26 34.731391 26 34.400391 L 26 30.599609 C 26 30.268609 25.731391 30 25.400391 30 L 21.599609 30 z" />';
const EpicGamesPath = '<path xmlns="http://www.w3.org/2000/svg" d="M26.439 1.25c1.712 0 2.336.623 2.336 2.31v20.56c0 .265-.047.74-.133.944-.087.205-.167.371-.327.52-.164.153-.45.312-.587.375l-11.067 4.657a1.686 1.686 0 0 1-1.322 0L4.273 25.961a2.624 2.624 0 0 1-.586-.376c-.16-.149-.24-.315-.327-.519-.086-.203-.133-.68-.133-.944V3.56c0-1.687.624-2.31 2.336-2.31h20.875ZM11.845 26.07a.097.097 0 0 0-.029.019.096.096 0 0 0-.02.028.103.103 0 0 0-.007.035.09.09 0 0 0 .007.037.098.098 0 0 0 .049.046l4.007 1.7a.358.358 0 0 0 .28 0l4.038-1.7a.08.08 0 0 0 .028-.018.093.093 0 0 0 .02-.028.106.106 0 0 0 .007-.037.087.087 0 0 0-.027-.063.083.083 0 0 0-.063-.026H11.88a.089.089 0 0 0-.035.006ZM8.7 18.901c-.267 0-.516.046-.745.137-.23.092-.427.218-.593.38a1.79 1.79 0 0 0-.388.565c-.095.215-.141.45-.141.7v.011c0 .258.047.496.143.712.095.217.228.404.396.56.17.158.368.28.598.368.23.088.48.132.75.132.318 0 .602-.051.853-.152a2.54 2.54 0 0 0 .654-.378v-1.543H8.632v.698h.683v.416a.998.998 0 0 1-.554.141.992.992 0 0 1-.38-.07.874.874 0 0 1-.492-.498 1.03 1.03 0 0 1-.07-.382v-.01a.973.973 0 0 1 .257-.666.837.837 0 0 1 .629-.274c.172 0 .324.027.454.083.13.055.259.135.384.24l.565-.67a2.195 2.195 0 0 0-.612-.368 2.178 2.178 0 0 0-.796-.132Zm14.96.007a1.83 1.83 0 0 0-.561.081 1.281 1.281 0 0 0-.423.229.978.978 0 0 0-.268.347 1.054 1.054 0 0 0-.092.44v.012c0 .175.034.324.102.443.068.119.16.219.278.299.118.08.256.145.414.196.158.05.33.096.515.139.12.026.215.051.29.076.073.024.133.05.178.076a.254.254 0 0 1 .092.08c.016.027.025.06.025.096v.01a.193.193 0 0 1-.103.173.574.574 0 0 1-.293.062c-.404 0-.779-.138-1.125-.412l-.536.633c.215.189.463.33.742.425.278.095.573.142.883.142.212 0 .404-.024.576-.075.172-.051.319-.125.44-.22.123-.097.218-.214.286-.351.068-.137.102-.295.102-.471v-.01a.89.89 0 0 0-.09-.414.826.826 0 0 0-.257-.297 1.658 1.658 0 0 0-.41-.208 4.235 4.235 0 0 0-.537-.15 3.63 3.63 0 0 1-.294-.075 1.016 1.016 0 0 1-.184-.074.25.25 0 0 1-.095-.08.19.19 0 0 1-.027-.102v-.011c0-.062.03-.114.087-.156a.441.441 0 0 1 .26-.065c.155 0 .316.03.483.087.167.058.33.14.488.252l.48-.67a2.007 2.007 0 0 0-.63-.342 2.524 2.524 0 0 0-.797-.115Zm-13.127 3.486h1.012l.248-.614h1.338l.253.614h1.031l-1.477-3.455h-.927l-1.478 3.454Zm4.219 0h.941v-1.96l.883 1.332h.02l.887-1.342v1.97h.956v-3.43h-1.015l-.83 1.328-.826-1.327h-1.016v3.428Zm4.33 0h2.814v-.808h-1.863v-.544h1.665v-.75h-1.665v-.519h1.84v-.808h-2.791v3.428Zm-6.23-1.353h-.778l.39-.975.388.975Zm9.275-16.19c-1.42 0-2.123.695-2.123 2.101v7.305c0 1.406.703 2.1 2.124 2.1h.865c1.42 0 2.123-.695 2.123-2.1v-2.635h-1.715v2.554c0 .452-.212.662-.653.662h-.326c-.457 0-.67-.21-.67-.662V7.034c0-.453.212-.663.67-.663h.294c.44 0 .652.21.652.663v2.213h1.715v-2.31c0-1.406-.686-2.085-2.106-2.085h-.85Zm-15.21 11.41h3.919v-1.568H8.664v-3.409h2.058V9.717H8.664v-3.2h2.139V4.95H6.917v11.312Zm4.763 0h1.747v-4.105h.996c1.42 0 2.123-.694 2.123-2.1V7.05c0-1.407-.702-2.1-2.123-2.1H11.68v11.31ZM17.334 4.95v11.312h1.747V4.95h-1.747Zm-3.19 1.519c.441 0 .654.21.654.662v2.845c0 .452-.212.663-.653.663h-.718v-4.17h.718Z"/>';
const ElectronicArtsPath = '<path xmlns="http://www.w3.org/2000/svg" d="m500.006 934.393c-239.516 0-434.374-194.862-434.374-434.379 0-239.52 194.858-434.381 434.374-434.381 239.513 0 434.375 194.862 434.375 434.381 0 239.516-194.861 434.379-434.375 434.379zm73.521-602.394h-245.486l-37.247 59.858h245.204zm50.168 0.571-150.071 238.963h-166.464l38.405-59.909h99.771l38.112-59.88h-230.654l-38.104 59.88h54.641l-75.812 119.611h316.389l116.86-184.295 42.609 64.684h-38.42l-36.385 59.909h113.773l39.506 59.702h72.576z" clip-rule="evenodd" fill-rule="evenodd"/>';
const UbisoftConnectPath = '<path xmlns="http://www.w3.org/2000/svg" d="M23.561 11.989C23.301-.304 6.953-4.89.655 6.634c.282.206.661.477.943.672a11.748 11.748 0 0 0-.976 3.068 11.886 11.886 0 0 0-.184 2.071c0 6.374 5.182 11.556 11.567 11.556s11.556-5.171 11.556-11.556v-.455zM3.29 14.048c-.152 1.247-.054 1.637-.054 1.789l-.282.098c-.108-.206-.369-.932-.488-1.908-.304-3.718 2.233-7.068 6.103-7.697 3.545-.52 6.938 1.68 7.729 4.759l-.282.098c-.087-.087-.228-.336-.77-.878-4.282-4.282-11.003-2.32-11.957 3.74zm11.003 2.082a3.145 3.145 0 0 1-2.591 1.355 3.151 3.151 0 0 1-3.155-3.155 3.159 3.159 0 0 1 2.927-3.144c1.019-.043 1.973.51 2.417 1.398a2.58 2.58 0 0 1-.455 2.949c.293.206.575.401.856.596zm6.58.119c-1.669 3.783-5.106 5.767-8.77 5.713-7.035-.347-9.084-8.466-4.38-11.393l.206.206c-.076.108-.358.325-.791 1.182-.51 1.041-.672 2.081-.607 2.732.369 5.67 8.315 6.83 11.046 1.214C21.057 8.217 11.821.401 3.625 6.374l-.184-.184c2.157-3.382 6.374-4.889 10.396-3.881 6.147 1.55 9.453 7.957 7.035 13.941z"/>';
const BattleNetPath = '<path xmlns="http://www.w3.org/2000/svg" d="M20.001 3.106c0-.059 0-.187.063-.187.09 0 .167.19.196.27.486 1.548.35 3.449-.345 5.588 2.756 1.473 4.338 3.382 4.052 5.168-.38 2.347-3.824 3.727-8.462 3.565a27.12 27.12 0 0 0 1.55-1.825c1.786-.347 3.066-1.053 3.4-2.184.246-.823-.32-1.736-1.396-2.594-1.768 3.723-4.722 7.058-7.451 8.985 1.323 1.687 2.556 2.858 3.964 3.516.052.025.164.09.126.148-.044.078-.252.05-.33.034-1.585-.352-3.158-1.42-4.673-3.093-2.652 1.65-5.099 2.066-6.502.925-1.842-1.5-1.316-5.178 1.137-9.106.193.631.505 1.526.806 2.253-.594 1.721-.622 3.183.19 4.041.59.623 1.664.59 2.945.088-2.325-3.395-3.738-7.62-4.04-10.954-2.124.303-3.754.785-5.027 1.675-.048.033-.16.098-.195.04-.044-.078.082-.24.137-.304 1.098-1.196 2.812-2.028 5.012-2.496-.102-3.124.758-5.45 2.45-6.093 2.22-.846 5.14 1.448 7.316 5.542a26.617 26.617 0 0 0-2.354-.429c-1.193-1.372-2.446-2.13-3.594-1.854-.834.2-1.341 1.146-1.547 2.502 4.108-.332 8.473.56 11.51 1.964.8-1.984 1.197-3.637 1.062-5.185zm-9.598 15.057c3.252-1.859 5.889-4.696 7.638-7.965-3.24-1.88-7.013-2.75-10.716-2.627-.008 3.745 1.124 7.451 3.082 10.594z"/>';
const PlaynitePath = '<path xmlns="http://www.w3.org/2000/svg" d="M254.5,172.6c0-.7,0-1.5,0-2.2-.3-38.9-9.4-94.2-38-123.1-8.6-7.6-18.3-11.3-29.9-11.3q-1.3,0-2.7,0c-9.1.2-17.6,2.4-26.4,4.6-9.7,2.4-19,3.2-28.3,2.9h-2.8s-18.7-.6-28.3-2.9c-8.8-2.2-17.3-4.4-26.4-4.6q-1.4,0-2.7,0c-11.5,0-21.2,3.6-29.9,11.3C10.4,76.2,1.3,131.4,1,170.4c0,.8,0,1.5,0,2.2-.1,11.5-.2,24.1,7.4,33.5,4,3.8,7.7,4.6,13.1,4.6,11.6-2.1,19.6-10.7,27.3-19,4.2-4.5,8.3-9.1,12.7-13.5,10.4-10.2,24.6-10.1,38.3-10.1,1.7,0,3.4,0,5.1,0,3.6,0,7.2,0,10.8,0,2.5,0,8.2,0,10.7,0h2.8c2.5,0,8.2,0,10.7,0,3.6,0,7.2,0,10.8,0,1.7,0,3.4,0,5.1,0,13.7,0,27.9,0,38.3,10.1,4.3,4.4,8.5,9,12.7,13.5,7.7,8.3,15.7,16.9,27.3,19,5.3,0,9.1-.8,13.1-4.6,7.6-9.4,7.5-22,7.4-33.5ZM73.8,134c-16,0-28.9-13-28.9-28.9s13-28.9,28.9-28.9,28.9,13,28.9,28.9-13,28.9-28.9,28.9ZM156.1,117.3c-6.7,0-12.2-5.5-12.2-12.2s5.5-12.2,12.2-12.2,12.2,5.5,12.2,12.2-5.5,12.2-12.2,12.2ZM181.2,142.5c-6.7,0-12.2-5.5-12.2-12.2s5.5-12.2,12.2-12.2,12.2,5.5,12.2,12.2-5.5,12.2-12.2,12.2ZM181.2,92.2c-6.7,0-12.2-5.5-12.2-12.2s5.5-12.2,12.2-12.2,12.2,5.5,12.2,12.2-5.5,12.2-12.2,12.2ZM206.4,117.3c-6.7,0-12.2-5.5-12.2-12.2s5.5-12.2,12.2-12.2,12.2,5.5,12.2,12.2-5.5,12.2-12.2,12.2Z"/>';

function getPath(type: CustomIconType): { d: string; viewBox: string } {
  // If caller passes a full <path ... d="..."/> string, extract d=""
  let d = "";
  let viewBox = "0 0 0 0";

  switch (type) {
    case "steam":
      d = SteampoweredPath;
      viewBox = "0 0 32 32";
      break;
    case "gog":
      d = GoGGalaxyPath;
      viewBox = "0 0 50 50";
      break;
    case "epic":
      d = EpicGamesPath;
      viewBox = "0 0 32 32"
      break;
    case "ea app":
      d = ElectronicArtsPath;
      viewBox = "0 0 1000 1000"
      break;
    case "ubisoft connect":
      d = UbisoftConnectPath;
      viewBox = "0 0 24 24"
      break;
    case "battle.net":
      d = BattleNetPath;
      viewBox = "0 0 24 24"
      break;
    case "playnite":
      d = PlaynitePath;
      viewBox = "0 0 256 256"
      break;
  }

  if (d.includes("<path")) {
    const m = d.match(/d="([^"]+)"/);
    return m ? { d: m[1], viewBox } : { d: "", viewBox };
  }

  return { d: d.trim(), viewBox };
};

type Props = {
  type: CustomIconType;
  size?: number;
  style?: CSSProperties;
  title?: string;
}

export const CustomIconSVG = memo(function CustomIconSVG({
  type,
  size = 15,
  style,
  title,
}: Props) {
  const { d, viewBox } = getPath(type);

  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width={size}
      height={size}
      viewBox={viewBox}
      fill="currentColor"
      style={{ display: "block", ...style }}
      aria-hidden={title ? undefined : true}
    >
      {title ? <title>{title}</title> : null}
      <path d={d} />
    </svg>
  );
});